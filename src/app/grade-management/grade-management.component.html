<div class="grade-management-container">
  <div class="top-bar">
    <button class="home-btn" (click)="goHome()">ホームへ戻る</button>
  </div>
  <h2 class="main-title">等級管理</h2>
  <form class="search-form" (submit)="$event.preventDefault()">
    <div class="form-fields">
      <div class="form-group">
        <label for="searchEmployeeNo">従業員番号</label>
        <input id="searchEmployeeNo" [(ngModel)]="searchEmployeeNo" name="searchEmployeeNo" type="text" placeholder="社員番号で検索" autocomplete="off" />
      </div>
      <div class="form-group">
        <label for="searchYear">対象年</label>
        <select id="searchYear" [(ngModel)]="searchYear" name="searchYear">
          <option value="">--</option>
          <option *ngFor="let y of yearList" [value]="y">{{y}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="searchMonth">対象月</label>
        <select id="searchMonth" [(ngModel)]="searchMonth" name="searchMonth">
          <option value="">--</option>
          <option *ngFor="let m of monthList" [value]="m">{{m}}</option>
        </select>
      </div>
      <div class="form-group" style="align-self: flex-end; min-width: 120px; display: flex; gap: 8px;">
        <button class="search-btn" type="button" (click)="onSearch()">検索</button>
        <button class="search-btn" type="button" (click)="onClearSearch()">クリア</button>
      </div>
    </div>
  </form>
  <table class="grade-table">
    <thead>
      <tr>
        <th>従業員番号</th>
        <th>対象年月</th>
        <th>従業員名</th>
        <th>見込み固定給</th>
        <th>固定的賃金</th>
        <th>等級</th>
        <th>差額</th>
        <th>差一致</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of salaryRows">
        <td>{{row.employeeNo}}</td>
        <td>{{row.salaryMonth}}</td>
        <td>{{row.employeeName}}</td>
        <td>{{row.expectedFixedSalary | number}}</td>
        <td>{{row.fixedSalary | number}}</td>
        <td>{{row.grade}}</td>
        <td>{{row.diff | number}}</td>
        <td>{{row.match ? '〇' : '×'}}</td>
      </tr>
    </tbody>
  </table>
</div> 